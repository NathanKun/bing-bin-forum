<ion-content padding id='new-post'>
  <br>
  <ion-row>
    <ion-col col-1>
      <ion-icon name="arrow-back" navPop></ion-icon>
    </ion-col>

    <ion-col col-11>
      <h1 text-left>Nouvelle publication</h1>
    </ion-col>
  </ion-row>
  <ion-item color="backgroundWhite">
    <ion-input limit-to="128" [(ngModel)]="titleInput" placeholder="Titre" type="text" value=""></ion-input>
  </ion-item>
  <br>
  <ion-row col-center>
    <ion-col col-7 col-center>
      <ion-item color="backgroundWhite">
        {{hashTag}}
      </ion-item>
    </ion-col>
    <ion-col col-5 col-center>
      <ion-img [src]="greenFlagImg" (click)="changeFlag('green')"></ion-img>
      <ion-img [src]="redFlagImg" (click)="changeFlag('red')"></ion-img>
      <ion-img [src]="brownFlagImg" (click)="changeFlag('brown')"></ion-img>
    </ion-col>
  </ion-row>

  <br>
  <ion-item color="backgroundWhite" class='content'>
    <ion-textarea limit-to="1024" [(ngModel)]="contentInput" placeholder="Contenu" type="text"></ion-textarea>
  </ion-item>
  <ion-row>
    <ion-col col-2>
      <label for="image-input">
        <ion-icon class='image'name="image" ></ion-icon>
      </label>
    </ion-col>
    <ion-col col-2>
      <input style='display: none' id='image-input' type="file" accept="image/*" (change)="onFileChanged($event)" />
      <button (click)='locationClick()' style='background: transparent;'>
        <ion-icon class='pin' name="pin" id='icon-pin'></ion-icon>
      </button>
    </ion-col>
    <ion-col col-8>
      <p class='indication'>{{this.commonProvider.getLocation()}}</p>
    </ion-col>
  </ion-row>
  <ion-row>
    <img alt='preview' [src]='previewUrl' id='previewImg' *ngIf='previewUrl'/>
  </ion-row>
  <button ion-button (click)="doPost()" float-right color="backgroundWhite"><p class='button'>Envoyer</p></button>

</ion-content>
